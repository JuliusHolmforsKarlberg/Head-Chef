﻿@using EPiServer.Framework.Localization;
@using EPiServer.ServiceLocation;
@using EPiServer.Shell.Web.Mvc.Html;
@using EPiServer.Web.Mvc.Html
@using Head_Chef.Models.Pages;
@using Head_Chef.Models.ViewModels

@model StartPageViewModel

@* @await Component.InvokeAsync("Carousel") *@

@Html.PropertyFor(x => x.CurrentPage.Carousel)
@*@Html.PropertyFor(x => x.CurrentPage.Recipe)*@

@*<div class="album py-5 bg-body-tertiary">*@
    <div class="container py-5">
        <div class="row row-cols-1 row-cols-sm-2 row-cols-md-4 g-4">

            @if(Model.Recipes != null)
            {
            @foreach (var item in Model.Recipes.Take(8)) @* <---NYTT*@
                {
                    <div class="col">
                    <div class="card h-100">   @* shadow-sm h-100*@
                        
                            <img src="@item.Image" class="card-img-top img-fluid " /> @* width="100%" height="100% w-100 " *@
                                <div class="card-body">
                            <a href="@Url.ContentUrl(item.ContentLink)" class="text-decoration-none stretched-link">
                                <h2 class="card-title h6">@item.Title </h2>
                            </a>
                                @*<p class="card-text">@item.Summary</p>*@
                                
                                </div>
                            <div class="card-footer">
                                <i class="bi bi-clock "></i>
                                <span>@item.ReadyInMinutes min</span>
                            </div>
                            
                        </div>
                    </div>
                }
            }
            

            @* @foreach (var item in Model.Movies)
            {
                <div class="col">
                    <div class="card shadow-sm">
                        <a href="@Url.ContentUrl(item.ContentLink)">
                            <img src="@item.Poster" width="100%" height="100%" />
                            <div class="card-body">
                                <p class="card-text">@item.Title (@item.Year)</p>
                            </div>
                        </a>
                    </div>
                </div>
            } *@
        </div>
    </div>
@*</div>*@

<div>
    @* @Html.PropertyFor(x => x.CurrentPage.Text) *@
</div>

<h2>Region</h2>
<h3>@Html.Translate("/property/enum/region/" + Model.CurrentPage.Region)</h3>


<script type="text/javascript" src="//www.termsfeed.com/public/cookie-consent/4.1.0/cookie-consent.js" charset="UTF-8"></script>
<script type="text/javascript" charset="UTF-8">
    document.addEventListener('DOMContentLoaded', function () {
        cookieconsent.run({ "notice_banner_type": "simple", "consent_type": "express", "palette": "dark", "language": "en", "page_load_consent_levels": ["strictly-necessary"], "notice_banner_reject_button_hide": false, "preferences_center_close_button_hide": false, "page_refresh_confirmation_buttons": false, "website_name": "Head-Chef", "website_privacy_policy_url": "https://example.com/privacy-policy" });
    });
</script>

<a href="#" id="open_preferences_center">Update cookies preferences</a>
